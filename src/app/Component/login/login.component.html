<section class="bg-light p-4 rounded-4 shadow my-4">
  <h2 class="text-center text-primary mb-4 p-5">login Now</h2>
  <form [formGroup]="loginForm" (ngSubmit)="submitData()">

    <!-- Email Field -->
    <div class="mb-3">
      <label for="email" class="form-label">Email</label>
      <input
        [ngClass]="{
          'is-valid': !loginForm.get('email')?.errors && loginForm.get('email')?.touched,
          'is-invalid': loginForm.get('email')?.errors && loginForm.get('email')?.touched
        }"
        formControlName="email"
        id="email"
        class="form-control"
        type="text"
        placeholder="Enter your email"
      >
      @if (loginForm.get('email')?.errors && loginForm.get('email')?.touched) {
        <div class="alert alert-danger mt-2">
          @if (loginForm.get('email')?.getError('required')) {
            <p class="m-0">Email address is required.</p>
          }
          @else if (loginForm.get('email')?.getError('email')) {
            <p class="m-0">Please enter a valid email address.</p>
          }
        </div>
      }
    </div>

    <!-- Password Field -->
    <div class="mb-3">
      <label for="password" class="form-label">Password</label>
      <input
        [ngClass]="{
          'is-valid': !loginForm.get('password')?.errors && loginForm.get('password')?.touched,
          'is-invalid': loginForm.get('password')?.errors && loginForm.get('password')?.touched
        }"
        formControlName="password"
        id="password"
        class="form-control"
        type="password"
        placeholder="Enter your password"
      >
      @if (loginForm.get('password')?.errors && loginForm.get('password')?.touched) {
        <div class="alert alert-danger mt-2">
          @if (loginForm.get('password')?.getError('required')) {
            <p class="m-0">Password is required.</p>
          }
          @else if (loginForm.get('password')?.getError('pattern')) {
            <p class="m-0">Password must be at least 6 characters long.</p>
          }
        </div>
      }
    </div>

    <!-- Submit Button -->
    <div class="d-flex align-items-center justify-content-end gap-4">
      <div class="d-grid">

        <a routerLink="/froget-password" class="text-decoration-none text-primary fw-bold hover:text-primary-dark">
          Forget Password
        </a>

        <!-- تحسين زر "Register" -->
        <button
          type="submit"
          class="btn btn-primary btn-lg mt-3"
          [disabled]="isLoading"
          [ngClass]="{'btn-disabled': isLoading}"
        >
          @if (isLoading) {
            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            <span class="ms-2">Loading...</span>
          }
          @else {
            <span>login Now</span>
          }
        </button>
      </div>
    </div>
  </form>
</section>
